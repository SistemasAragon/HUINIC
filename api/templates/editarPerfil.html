{% include  'includeCandidato.html' %}
{% load static%}
<!DOCTYPE html>
<html lang="en">


<head>
    <title>HUINIC | Habilidades Candidato</title>
    
</head>

<body>

    <!-- Start Home -->
    <section class="bg-default page-next-level" style="background: url({% static 'images/bg/bg-page.png'%}) center no-repeat;">
        <div class="home-center">
            <div class="home-desc-center">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-12 mt-4">
                            <div class="text-center">
                                <h3 class="title-pager mb-0">  Registra tus habilidades y conocimientos </h3>
                                <h3 class="title-pager mb-0">  Recuerda que esto aparecera en tu perfil</h3>
                            </div>
                        </div>
                        <!--end col-->

                    </div>
                    <!--end row-->
                </div>
                <!--end container-->
            </div>
        </div>
    </section>
    <!--end section-->
    <!-- End Home -->


    <!-- Start Section -->
    <section class="section-50" style="overflow:hidden;">
        
        <div class="container">
            <div class="col-12 mt-4">
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-10 col-12 mb-4">
                    <div class="rounded p-4 shadow border">
                        <div class="row">
                            <div class="col-12">
                                <div class="primary-form mt-3">
                                    <form method="post" id="myForm" name="myForm" onsubmit="return validateForm()">
                                        <p class="mb-0" id="error-msg"></p>
                                        <div id="simple-msg"></div>

                                        <!-- Inicio de prueba -->
                                        <div class="row">
                                            <form method="post" id="myForm" name="myForm" onsubmit="return validateForm()">
                                                <div class="col-lg-4 col-md-5 col-12">
                                                    <div class="card section-title p-4 shadow rounded border-0">
                                                        <ul class="nav nav-pills nav-justified flex-column bg-transparent mb-0" id="pills-tab" role="tablist">
                                                            <li class="nav-item">
                                                                <a class="nav-link rounded shadow active" id="pills-buying-tab" data-bs-toggle="pill" href="#pills-buying" role="tab" aria-controls="pills-buying" aria-selected="false">
                                                                    <div class="text-start py-1 px-3">
                                                                        <h6 class="mb-0">Datos Personales</h6>
                                                                    </div>
                                                                </a><!--end nav link-->
                                                            </li><!--end nav item-->
                                                            
                                                            <li class="nav-item mt-3">
                                                                <a class="nav-link rounded shadow" id="pills-general-tab" data-bs-toggle="pill" href="#pills-general" role="tab" aria-controls="pills-general" aria-selected="false">
                                                                    <div class="text-start py-1 px-3">
                                                                        <h6 class="mb-0">Mi CV</h6>
                                                                    </div>
                                                                </a><!--end nav link-->
                                                            </li><!--end nav item-->
                                                            
                                                        </ul><!--end nav pills-->
                                                    </div>
                                                </div>
                                
                                                <div class="col-lg-8 col-md-7 col-12 mt-4 pt-2 mt-sm-0 pt-sm-0">
                                                    <div class="tab-content" id="pills-tabContent">
                                                        <div class="tab-pane fade show active" id="pills-buying" role="tabpanel" aria-labelledby="pills-buying-tab">
                                                            <div class="section-title" id="tech">
                                                                <h5>Datos Personales </h5>
                                                            </div>
                                    
                                                            <div class="accordion mt-4 pt-2" id="buyingquestion">
                                                                <div class="accordion-item rounded">
                                                                    <h2 class="accordion-header" id="headingOne">
                                                                        <button class="accordion-button border-0 bg-light" type="button"
                                                                            data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                                            aria-expanded="true" aria-controls="collapseOne">
                                                                            Datos Generales
                                                                        </button>
                                                                    </h2>

                                                                    <div id="collapseOne" class="accordion-collapse border-0 collapse show" aria-labelledby="collapseOne" data-bs-parent="#buyingquestion">
                                                                        <div class="accordion-body text-muted">
                                                                            <div class="row">

                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Nombre (s) <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="nombre_puesto" id="nombre_puesto" type="text" 
                                                                                        class="form-control ps-5 fs-6" placeholder="Victor">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Apellido Paterno <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="apellido_paterno" id="apellido_paterno" type="text" class="form-control ps-5 fs-6" placeholder="PatiÃ±o">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Apellido Materno <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="apellido_materno" id="apellido_materno" type="text" class="form-control ps-5 fs-6" placeholder="Mejia">
                                                                                    </div>
                                                                                    <br>
                                                                                </div>
                                                                            </div>

                                                                            <div class="row">
                                                                                <div class="col-md-5">
                                                                                    <label class="form-label fs-6">Fecha de nacimiento <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="fecha_nacimiento" id="fecha_nacimiento" type="date" class="form-control ps-5 fs-6">
                                                                                    </div>
                                                                                    <br>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                            <div class="row">
                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Estado Civil <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="estado_civil" id="soltero" value="soltero">
                                                                                            <label class="form-check-label" for="soltero">Soltero</label>
                                                                                        </div>
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="estado_civil" id="casado" value="casado">
                                                                                            <label class="form-check-label" for="casado">Casado</label>
                                                                                        </div>
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="estado_civil" id="otro" value="otro">
                                                                                            <label class="form-check-label" for="otro">Otro</label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Disponibilidad de viajar <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="disponibilidad_viajar" id="viajar_si" value="si">
                                                                                            <label class="form-check-label" for="viajar_si">SÃ­</label>
                                                                                        </div>
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="disponibilidad_viajar" id="viajar_no" value="no">
                                                                                            <label class="form-check-label" for="viajar_no">No</label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-4">
                                                                                    <label class="form-label fs-6">Disponibilidad de cambio de residencia <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="cambio_residencia" id="residencia_si" value="si">
                                                                                            <label class="form-check-label" for="residencia_si">SÃ­</label>
                                                                                        </div>
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="cambio_residencia" id="residencia_no" value="no">
                                                                                            <label class="form-check-label" for="residencia_no">No</label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                
                                                                <!-- SecciÃ³n de direcciÃ³n -->
                                                                <div class="accordion-item rounded mt-2">
                                                                    <h2 class="accordion-header" id="headingThree">
                                                                        <button class="accordion-button border-0 bg-light collapsed"
                                                                            type="button" data-bs-toggle="collapse"
                                                                            data-bs-target="#collapseThree" aria-expanded="false"
                                                                            aria-controls="collapseThree">
                                                                            DirecciÃ³n
                                                                        </button>
                                                                    </h2>
                                                                    <div id="collapseThree" class="accordion-collapse border-0 collapse" aria-labelledby="headingThree" data-bs-parent="#buyingquestion">
                                                                        <div class="accordion-body text-muted">
                                                                            <div class="row">
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">Estado <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <select name="estado" id="estado" class="form-control select2">
                                                                                            <option value="">Selecciona un estado</option>
                                                                                            <option value="estado_mexico">Estado de MÃ©xico</option>
                                                                                            <option value="cdmx">Ciudad de MÃ©xico</option>
                                                                                            <option value="jalisco">Jalisco</option>
                                                                                            <option value="nuevo_leon">Nuevo LeÃ³n</option>
                                                                                            <option value="queretaro">QuerÃ©taro</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">Municipio <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <select name="municipio" id="municipio" class="form-control select2">
                                                                                            <option value="">Selecciona un municipio</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                
                                                                            </div>

                                                                            <div class="row mt-3">

                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">Colonia <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <select name="colonia" id="colonia" class="form-control select2">
                                                                                            <option value="">Selecciona una colonia</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">Calle <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="calle" id="calle" type="text" class="form-control ps-5 fs-6" placeholder="Calle">
                                                                                    </div>
                                                                                </div>
                                                                                
                                                                                
                                                                            </div>
                                                                            <div class="row mt-3">
                                                                                
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">NÃºmero Interior</label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="numero_interior" id="numero_interior" type="text" class="form-control ps-5 fs-6" placeholder="NÃºmero Interior">
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-md-6">
                                                                                    <label class="form-label fs-6">NÃºmero Exterior <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="numero_exterior" id="numero_exterior" type="text" class="form-control ps-5 fs-6" placeholder="NÃºmero Exterior">
                                                                                    </div>
                                                                                </div>
                                                                                
                                                                            </div>
                                                                            <div class="row mt-3">
                                                                                
                                                                                
                                                                                <div class="col-md-4 mt-6">
                                                                                    <label class="form-label fs-6">CÃ³digo Postal <span class="text-danger">*</span></label>
                                                                                    <div class="form-icon position-relative">
                                                                                        <input name="codigo_postal" id="codigo_postal" type="text" class="form-control ps-5 fs-6" placeholder="CÃ³digo Postal">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- Fin SecciÃ³n de direcciÃ³n -->

                                                            </div>
                                                        </div><!--end teb pane-->
                                                        
                                                        <div class="tab-pane fade" id="pills-general" role="tabpanel" aria-labelledby="pills-general-tab">
                                                            <div class="section-title" id="general">
                                                                <h5>Mi Curriculum</h5>
                                                            </div>
                                    
                                                            <div class="accordion mt-4 pt-2" id="generalquestion">
                                                                <div class="accordion-item rounded">
                                                                    <h2 class="accordion-header" id="headingOne">
                                                                        <button class="accordion-button border-0 bg-light" type="button"
                                                                            data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                                            aria-expanded="true" aria-controls="collapseOne">
                                                                            Habilidades
                                                                        </button>
                                                                    </h2>
                                                                    <div id="collapseOne" class="accordion-collapse border-0 collapse show"
                                                                        aria-labelledby="headingOne" data-bs-parent="#generalquestion">
                                                                        <div class="accordion-body text-muted">
                                                                            <label class="form-label fs-5 text-center">HABILIDADES <span class="text-danger"></span></label>
                                                                            <div class="col-md-12 mt-3">
                                                                                <label class="form-label fs-5">Selecciona hasta 5 habilidades <span class="text-danger">*</span></label>
                                                                                <div class="form-icon position-relative">
                                                                                    <div class="row">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad1" name="habilidad" value="Trabajo en equipo">
                                                                                            <label for="habilidad1">Trabajo en equipo</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad2" name="habilidad" value="ComunicaciÃ³n efectiva">
                                                                                            <label for="habilidad2">ComunicaciÃ³n efectiva</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad3" name="habilidad" value="ResoluciÃ³n de problemas">
                                                                                            <label for="habilidad3">ResoluciÃ³n de problemas</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad4" name="habilidad" value="Liderazgo">
                                                                                            <label for="habilidad4">Liderazgo</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad5" name="habilidad" value="Adaptabilidad">
                                                                                            <label for="habilidad5">Adaptabilidad</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad6" name="habilidad" value="Creatividad">
                                                                                            <label for="habilidad6">Creatividad</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad7" name="habilidad" value="Pensamiento crÃ­tico">
                                                                                            <label for="habilidad7">Pensamiento crÃ­tico</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad8" name="habilidad" value="GestiÃ³n del tiempo">
                                                                                            <label for="habilidad8">GestiÃ³n del tiempo</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad9" name="habilidad" value="EmpatÃ­a">
                                                                                            <label for="habilidad9">EmpatÃ­a</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad10" name="habilidad" value="Capacidad de aprendizaje">
                                                                                            <label for="habilidad10">Capacidad de aprendizaje</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad11" name="habilidad" value="NegociaciÃ³n">
                                                                                            <label for="habilidad11">NegociaciÃ³n</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad12" name="habilidad" value="Toma de decisiones">
                                                                                            <label for="habilidad12">Toma de decisiones</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad13" name="habilidad" value="Pensamiento analÃ­tico">
                                                                                            <label for="habilidad13">Pensamiento analÃ­tico</label>
                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad14" name="habilidad" value="Autoconfianza">
                                                                                            <label for="habilidad14">Autoconfianza</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row mt-2">
                                                                                        <div class="col-md-6">
                                                                                            <input type="checkbox" id="habilidad15" name="habilidad" value="Resiliencia">
                                                                                            <label for="habilidad15">Resiliencia</label>
                                                                                        </div>
                                                                                        <!-- AquÃ­ puedes agregar mÃ¡s habilidades si lo deseas -->
                                                                                    </div>
                                                                                    <div id="mensaje-habilidades" class="mt-2" style="display: none;">
                                                                                        <p class="text-danger">Ya has seleccionado las 5 habilidades. No puedes seleccionar mÃ¡s.</p>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <!-- INICIO CONOCIMIENTOS -->
                                                                <div class="accordion-item rounded mt-2">
                                                                    <h2 class="accordion-header" id="headingTwo">
                                                                        <button class="accordion-button border-0 bg-light collapsed"
                                                                            type="button" data-bs-toggle="collapse"
                                                                            data-bs-target="#collapseTwo" aria-expanded="false"
                                                                            aria-controls="collapseTwo">
                                                                            Conocimientos
                                                                        </button>
                                                                    </h2>
                                                                    <div id="collapseTwo" class="accordion-collapse border-0 collapse"
                                                                        aria-labelledby="headingTwo" data-bs-parent="#generalquestion">
                                                                        <div class="accordion-body text-muted">
                                                                            <form id="profileForm">
                                                                                <div id="profileContainer">
                                                                                    <!-- AquÃ­ se aÃ±adirÃ¡n los perfiles dinÃ¡micamente -->
                                                                                </div>
                                                                                <button type="button" class="btn btn-primary mt-3" onclick="addProfile()">Agregar Perfil</button>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- FIN CONOCIMIENTOS -->
                                                                
                                                            </div>
                                                        </div><!--end teb pane-->
                                
                                                        
                                                    </div><!--end tab content-->
                                                </div><!--end col-->
                                            </form>
                                            
                                        </div>
                                        <!-- Fin de prueba -->
                                        <div class="row">
                                            <div class="col-12 fs-6 mt-3 text-center">
                                                <button type="submit" id="submit" name="send" class="btn btn-primary" onclick="guardarDatos()">Guardar</button>
                                            </div>
                                        </div>
                                        <!-- end row -->
                                    </form>

                                    <!-- end form -->
        
                                </div>
                                <!-- end primary-form -->
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                    </div>
                </div>
                <!-- end col -->
            </div>
            <!-- end row -->
        </div>
        
        <!--end container-->
    </section>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        function guardarDatos() {
            // AquÃ­ irÃ­a la lÃ³gica para guardar los datos
            // Simular que los datos se han guardado correctamente
            Swal.fire({
                title: 'Â¡Datos guardados con Ã©xito!',
                text: 'Tus datos se han guardado correctamente.',
                icon: 'success',
                confirmButtonText: 'Aceptar',
                customClass: {
                    confirmButton: 'btn-custom-color'
                }
            });
        }
    </script>
    
    <style>
        .btn-custom-color {
            background-color: #ff9034 !important;
            color: white !important;
        }
    </style>

    
    <script>

        document.addEventListener("DOMContentLoaded", function() {
            var checkboxes = document.querySelectorAll('input[name="habilidad"]');
            var maxHabilidades = 5;
            var mensajeHabilidades = document.getElementById('mensaje-habilidades');

            checkboxes.forEach(function(checkbox) {
                checkbox.addEventListener('change', function() {
                    var checkedCheckboxes = document.querySelectorAll('input[name="habilidad"]:checked');
                    if (checkedCheckboxes.length > maxHabilidades) {
                        this.checked = false; // Desmarca la casilla si se intenta seleccionar una habilidad adicional despuÃ©s del lÃ­mite
                        mostrarMensajeHabilidades();
                    } else {
                        ocultarMensajeHabilidades();
                    }
                });
            });

            function mostrarMensajeHabilidades() {
                mensajeHabilidades.style.display = 'block';
            }

            function ocultarMensajeHabilidades() {
                mensajeHabilidades.style.display = 'none';
            }
        });
        


        
        $(document).ready(function() {
            $('.select2').select2();

            // Datos simulados de municipios y colonias por estado
            var municipios = {
                estado_mexico: ["ChimalhuacÃ¡n", "Chicoloapan", "Texcoco", "NezahualcÃ³yotl", "Ecatepec"],
                cdmx: ["Iztapalapa", "CoyoacÃ¡n", "Gustavo A. Madero", "Tlalpan", "Ãlvaro ObregÃ³n"],
                jalisco: ["Guadalajara", "Zapopan", "Tlaquepaque", "TonalÃ¡", "Puerto Vallarta"],
                nuevo_leon: ["Monterrey", "San NicolÃ¡s de los Garza", "Guadalupe", "Santa Catarina", "Apodaca"],
                queretaro: ["QuerÃ©taro", "El MarquÃ©s", "Corregidora", "San Juan del RÃ­o", "Tequisquiapan"]
            };

            var colonias = {
                chimalhuacan: ["La Perla", "Santo Domingo", "Jardines de ChimalhuacÃ¡n", "La Loma", "Bosques de ChimalhuacÃ¡n"],
                chicoloapan: ["RevoluciÃ³n", "San SebastiÃ¡n", "El Oro", "Santa Cecilia", "El Mirador"],
                texcoco: ["Centro", "Santa Ãrsula", "La PurificaciÃ³n", "San Miguel Tlaixpan", "Huexotla"],
                nezahualcoyotl: ["Agua Azul", "Campestre Guadalupana", "Benito JuÃ¡rez", "Estado de MÃ©xico", "Ejidos de San AgustÃ­n"],
                ecatepec: ["Las AmÃ©ricas", "San CristÃ³bal", "San AgustÃ­n", "Guadalupe Victoria", "Villas de Ecatepec"]
                // Agrega mÃ¡s colonias segÃºn sea necesario
            };

            // FunciÃ³n para actualizar los municipios al cambiar el estado
            $('#estado').on('change', function() {
                var estadoSeleccionado = $(this).val();
                var municipiosOptions = '<option value="">Selecciona un municipio</option>';

                if (estadoSeleccionado) {
                    $.each(municipios[estadoSeleccionado], function(index, municipio) {
                        municipiosOptions += '<option value="' + municipio.toLowerCase().replace(/\s+/g, '_') + '">' + municipio + '</option>';
                    });
                }

                $('#municipio').html(municipiosOptions).change();
                $('#colonia').html('<option value="">Selecciona una colonia</option>').change(); // Limpiar colonias al cambiar estado
            });

            // FunciÃ³n para actualizar las colonias al cambiar el municipio
            $('#municipio').on('change', function() {
                var municipioSeleccionado = $(this).val();
                var coloniasOptions = '<option value="">Selecciona una colonia</option>';

                if (municipioSeleccionado) {
                    $.each(colonias[municipioSeleccionado], function(index, colonia) {
                        coloniasOptions += '<option value="' + colonia.toLowerCase().replace(/\s+/g, '_') + '">' + colonia + '</option>';
                    });
                }

                $('#colonia').html(coloniasOptions).change();
            });
        });
    </script>

    <!-- SCRIPT DE CONOCIMIENTOS -->
    <script>
        let profileCount = 0;
    
        function addProfile() {
            profileCount++;
            const profileContainer = document.getElementById('profileContainer');
            const newProfile = document.createElement('div');
            newProfile.classList.add('profile');
            newProfile.innerHTML = `
                <h5>Perfil ${profileCount}</h5>
                <div class="form-group">
                    <label for="firstSelect${profileCount}">Por favor selecciona el perfil que tienes</label>
                    <select id="firstSelect${profileCount}" class="form-control" onchange="handleFirstSelect(${profileCount})">
                        <option value="">Selecciona una opciÃ³n</option>
                        <option value="auto">AutomÃ³vil</option>
                        <option value="moto">Moto</option>
                    </select>
                </div>
                <div class="form-group" id="secondSelectGroup${profileCount}" style="display:none;">
                    <label for="secondSelect${profileCount}">Seleccione una opciÃ³n</label>
                    <select id="secondSelect${profileCount}" class="form-control" onchange="handleSecondSelect(${profileCount})">
                        <!-- Opciones serÃ¡n agregadas por el script -->
                    </select>
                </div>
                <div class="form-group" id="thirdSelectGroup${profileCount}" style="display:none;">
                    <label for="thirdSelect${profileCount}">Seleccione una opciÃ³n</label>
                    <select id="thirdSelect${profileCount}" class="form-control" onchange="handleThirdSelect(${profileCount})">
                        <!-- Opciones serÃ¡n agregadas por el script -->
                    </select>
                </div>
                <div class="form-group" id="fourthSelectGroup${profileCount}" style="display:none;">
                    <label for="fourthSelect${profileCount}">Seleccione una opciÃ³n</label>
                    <select id="fourthSelect${profileCount}" class="form-control">
                        <!-- Opciones serÃ¡n agregadas por el script -->
                    </select>
                </div>
            `;
            profileContainer.appendChild(newProfile);
        }
    
        function updateOptions(profileId, selectId, options) {
            const selectElement = document.getElementById(selectId + profileId);
            selectElement.innerHTML = '';
            options.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option.value;
                opt.text = option.text;
                selectElement.appendChild(opt);
            });
            selectElement.parentElement.style.display = 'block';
        }
    
        function handleFirstSelect(profileId) {
            const firstSelectValue = document.getElementById('firstSelect' + profileId).value;
            if (firstSelectValue === 'auto') {
                updateOptions(profileId, 'secondSelect', [
                    { value: 'gasolina', text: 'Gasolina' },
                    { value: 'diesel', text: 'Diesel' },
                    { value: 'electrico', text: 'ElÃ©ctrico' }
                ]);
                document.getElementById('thirdSelectGroup' + profileId).style.display = 'none';
                document.getElementById('fourthSelectGroup' + profileId).style.display = 'none';
            } else if (firstSelectValue === 'moto') {
                updateOptions(profileId, 'secondSelect', [
                    { value: 'frenos', text: 'Frenos' },
                    { value: 'motor', text: 'Motor' },
                    { value: 'suspension', text: 'SuspensiÃ³n' },
                    { value: 'transmision', text: 'TransmisiÃ³n' },
                    { value: 'electricidad', text: 'Electricidad' }
                ]);
                document.getElementById('thirdSelectGroup' + profileId).style.display = 'none';
                document.getElementById('fourthSelectGroup' + profileId).style.display = 'none';
            } else {
                document.getElementById('secondSelectGroup' + profileId).style.display = 'none';
                document.getElementById('thirdSelectGroup' + profileId).style.display = 'none';
                document.getElementById('fourthSelectGroup' + profileId).style.display = 'none';
            }
        }
    
        function handleSecondSelect(profileId) {
            const secondSelectValue = document.getElementById('secondSelect' + profileId).value;
            if (secondSelectValue === 'gasolina') {
                updateOptions(profileId, 'thirdSelect', [
                    { value: 'combustion_interna', text: 'CombustiÃ³n Interna' },
                    { value: 'inyeccion', text: 'InyecciÃ³n' },
                    { value: 'escape', text: 'Escape' },
                    { value: 'enfriamiento', text: 'Enfriamiento' }
                ]);
            } else if (secondSelectValue === 'diesel') {
                updateOptions(profileId, 'thirdSelect', [
                    { value: 'combustion_interna', text: 'CombustiÃ³n Interna' },
                    { value: 'inyeccion', text: 'InyecciÃ³n' },
                    { value: 'turbo', text: 'Turbo' },
                    { value: 'filtro_particulas', text: 'Filtro de PartÃ­culas' }
                ]);
            } else if (secondSelectValue === 'electrico') {
                updateOptions(profileId, 'thirdSelect', [
                    { value: 'baterias', text: 'BaterÃ­as' },
                    { value: 'motor_electrico', text: 'Motor ElÃ©ctrico' },
                    { value: 'sistema_recarga', text: 'Sistema de Recarga' },
                    { value: 'controlador', text: 'Controlador' }
                ]);
            } else if (secondSelectValue === 'frenos' || secondSelectValue === 'motor' || secondSelectValue === 'suspension' || secondSelectValue === 'transmision' || secondSelectValue === 'electricidad') {
                updateOptions(profileId, 'thirdSelect', [
                    { value: 'opcion1', text: 'OpciÃ³n 1' },
                    { value: 'opcion2', text: 'OpciÃ³n 2' },
                    { value: 'opcion3', text: 'OpciÃ³n 3' },
                    { value: 'opcion4', text: 'OpciÃ³n 4' }
                ]);
            } else {
                document.getElementById('thirdSelectGroup' + profileId).style.display = 'none';
            }
        }
    
        function handleThirdSelect(profileId) {
            const thirdSelectValue = document.getElementById('thirdSelect' + profileId).value;
            if (thirdSelectValue) {
                updateOptions(profileId, 'fourthSelect', [
                    { value: 'opcion1', text: 'OpciÃ³n 1' },
                    { value: 'opcion2', text: 'OpciÃ³n 2' },
                    { value: 'opcion3', text: 'OpciÃ³n 3' },
                    { value: 'opcion4', text: 'OpciÃ³n 4' }
                ]);
            } else {
                document.getElementById('fourthSelectGroup' + profileId).style.display = 'none';
            }
        }
    
        // Agregar un perfil inicial al cargar la pÃ¡gina
        window.onload = function() {
            addProfile();
        }
    </script>
    <!-- FIN SCRIPT DE CONOCIMIENTOS -->
    
    <!--end section-->
    <!-- End Section -->

    <!-- Footer End -->
    {% include  'includeFooter.html' %}
    <!-- Footer End -->

</body>


</html>