{% include  'includeHead.html' %}
{% load static%}
<!DOCTYPE html>
<html lang="en">


<head>
    <title>HUINIC | Lista de Empresas</title>

    
    <!-- Luego incluye DataTables -->
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">

    <!-- Ventanas -->
    <link href="{% static 'css/sweetalert2.css'%}" rel="stylesheet" type="text/css">
    <link href="{% static 'css/sweetalert2Tres.css'%}" rel="stylesheet" type="text/css">

    <!-- DataTables CSS -->
    {% comment %} <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css"> {% endcomment %}

</head>

<body>

    
    <!-- Navbar STart -->
    <header id="topnav" class="defaultscroll sticky">
        <div class="container">
            <!-- Logo container-->
            <a class="logo" href="{% url 'homeSistemas' %}"><!-- Logooooo-->
                <span class="logo-light-mode">
                    <img src="{% static 'images/Logo.png'%}" class="l-dark" alt="" style="height: 40px;">
                    <img src="{% static 'images/Logo.png'%}" class="l-light" alt="" style="height: 40px;">
                </span>
            </a>
            <!-- End Logo container-->
            <div class="menu-extras">
                <div class="menu-item">
                    <!-- Mobile menu toggle-->
                    <a class="navbar-toggle" id="isToggle" onclick="toggleMenu()">
                        <div class="lines">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </a>
                    <!-- End mobile menu toggle-->
                </div>
            </div>
            



            <ul class="buy-button list-inline mb-0" style="margin-top: 15px;">
                <li class="list-inline-item search-icon mb-0">
                    <!--INICIO DE USUARIO-->
                    <a class="nav-link dropdown-toggle arrow-none nav-user px-2" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                        <div style="display: flex; align-items: center;">
                            <img src="{% static 'images/home/home06.png'%}" alt="user-image" width="32" class="rounded-circle" style="margin-right: 20px;">
                            <div>
                                <h6 class="my-0">Nombre Usuario</h6>
                                <h6 class="my-0 fw-normal menu-arrow">Sistemas</h6>
                            </div>
                        </div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated profile-dropdown">
                        <!-- item-->
                        <div class="dropdown-header noti-title">
                            <h6 class="text-overflow m-0">¡Bienvenido!</h6>
                        </div>
                        <!-- item-->
                        <a href="#" class="dropdown-item">
                            <i class="ri-logout-box-line fs-18 align-middle me-1"></i>
                            <span>Salir</span>
                        </a>
                    </div>
                    <!--FIN DE USUARIO-->
                </li>
            </ul>


            <div id="navigation">
                <!-- Navigation Menu-->
                <ul class="navigation-menu nav-light nav-right">
                    <li class="has-submenu parent-parent-menu-item">
                        <a href="{% url 'homeSistemas' %}">Inicio</a><span class="menu-arrow"></span>
                    </li>

                    
                    <li class="has-submenu parent-parent-menu-item">
                        <a href="javascript:void(0)">Usuarios</a><span class="menu-arrow"></span>
                        <ul class="submenu">
                            <li class="has-submenu parent-menu-item"><a href="{% url 'listaEmpresas' %}">Empresas</a> </li>
                            <li class="has-submenu parent-menu-item"><a href="{% url 'capacitadoresLista' %}">Capacitadores</a> </li>
                            <li class="has-submenu parent-menu-item"><a href="{% url 'candidatoLista' %}">Candidatos</a> </li>
                        </ul>
                    </li>

                    <li class="has-submenu parent-parent-menu-item">
                        <a href="javascript:void(0)">Tablas</a><span class="menu-arrow"></span>
                        <ul class="submenu">
                            <li class="has-submenu parent-menu-item"><a href="{% url 'conocimientosLista' %}">Conocimientos</a> </li>
                            <li class="has-submenu parent-menu-item"><a href="{% url 'habilidadesLista' %}">Habilidades</a></li>
                        </ul>
                    </li>

                </ul>
                <!--end navigation menu-->
            </div>

            <!--end navigation-->
        </div>
        <!--end container-->
    </header>
    <!--end header-->
    <!-- Navbar End -->

    <!-- Start Home -->
    <section class="bg-default page-next-level" style="background: url({% static 'images/bg/bg-page.png'%}) center no-repeat;">
        <div class="home-center">
            <div class="home-desc-center">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-12 mt-4">
                            <div class="text-center">
                                <h3 class="title-pager mb-0">Lista de Empresas</h3>
                            </div>
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                </div>
                <!--end container-->
            </div>
        </div>
    </section>
    <!--end section-->
    <!-- End Home -->


    <!-- START -->
    <section class="section-25">
        <div class="container">
            <div class="text-center">
                <h4 class="pb-2 widget-title border-bottom">Solicitudes de empresa</h4>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-6 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0">
                    <div class="sidebar  rounded  ">
                        <!-- RELATED SERVICES -->
                        <div class="widget mb-4">

                            <table id="TablaCheck" class="hover table table-sm table-centered table-hover table-borderless mb-0" >
                                <thead class="border-top border-bottom bg-light-subtle border-light">
                                    <tr>
                                        <th scope="col">Nombre de la empresa</th>
                                        <th scope="col">RFC</th>
                                        <th scope="col">Función</th>
                                        <th scope="col">Info</th>
                                        <th scope="col">Registrar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            Taanil
                                        </td>
                                        <td>
                                            JTYYHFTBHTYB
                                        </td>
                                        <td>
                                            Capacitador
                                        </td>
                                        <td>
                                            <a href="#" class="btn btn-primary  mt-2" onclick="verSolicitud('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                                Ver 
                                            </a>
                                        </td>
                                        <td>
                                            <a href="{% url 'datosEmpresa' %}" class="btn btn-primary  mt-2">Registrar</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Mazda
                                        </td>
                                        <td>
                                            JFJGHYTHTBTF
                                        </td>
                                        <td>
                                            Capacitador
                                        </td>
                                        <td>
                                            <a href="#" class="btn btn-primary  mt-2" onclick="verSolicitud('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                                Ver 
                                            </a>
                                        </td>
                                        <td>
                                            <a href="{% url 'datosEmpresa' %}" class="btn btn-primary  mt-2">Registrar</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                           CUDE
                                        </td>
                                        <td>
                                            DTBTBTGTHJDTJ
                                        </td>
                                        <td>
                                            Vacantes
                                        </td>
                                        <td>
                                            <a href="#" class="btn btn-primary  mt-2" onclick="verSolicitud('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                                Ver 
                                            </a>
                                        </td>
                                        <td>
                                            <a href="{% url 'datosEmpresa' %}" class="btn btn-primary  mt-2">Registrar</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Ford
                                        </td>
                                        <td>
                                            BTNTDBTBTBT
                                        </td>
                                        <td>
                                            Vacantes
                                        </td>
                                        <td>
                                            <a href="#" class="btn btn-primary  mt-2" onclick="verSolicitud('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                                Ver 
                                            </a>
                                        </td>
                                        <td>
                                            <a href="{% url 'datosEmpresa' %}" class="btn btn-primary  mt-2">Registrar</a>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>

                        </div>
                        <!-- RELATED SERVICES -->
                    </div>
                </div>
            </div>
        </div>
        <!-- end container -->
    </section>
    <!-- END -->

    <!-- START -->
    <section class="section-50">
        <div class="container">
            <div class="text-center">
                <h4 class="pb-2 widget-title border-bottom">Empresas registradas</h4>
            </div>
            <div class="row" >
                <table id="TablaCursos" class="hover table table-sm table-centered table-hover table-borderless mb-0" >
                    <thead class="border-top border-bottom bg-light-subtle border-light">
                        <tr>
                            <th scope="col">Empresa</th>
                            <th scope="col">RFC</th>
                            <th scope="col">Correo</th>
                            <th scope="col">Director</th>
                            <th scope="col">Direccion</th>
                            <th scope="col">Num Personal</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="centrar">
                                Centro Universitario de Especialidades
                            </td>
                            <td class="centrar">
                                FNECNEICNRDVFV 
                            </td>
                            <td class="centrar">
                                cude@gmail.com
                            </td>
                            <td class="centrar">
                                colbert juan de dios 
                            </td>
                            <td class="centrar">
                                Calle 21 de marzo 
                            </td>
                            <td class="centrar">
                                56 personas 
                            </td>
                            <td class="centrar">
                                Activa 
                            </td>
                            <td class="centrar">
                                <a href="#" class="btn btn-primary  mt-2" onclick="editarEmpleado('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                    Editar 
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="centrar">
                                CEDVA
                            </td>
                            <td class="centrar">
                                FNECEDCCEC 
                            </td>
                            <td class="centrar">
                                cedva@gmail.com
                            </td>
                            <td class="centrar">
                                jesus de cedva
                            </td>
                            <td class="centrar">
                                Calle 231 de marzo 
                            </td>
                            <td class="centrar">
                                5006 personas 
                            </td>
                            <td class="centrar">
                                Activa 
                            </td>
                            <td class="centrar">
                                <a href="#" class="btn btn-primary  mt-2" onclick="editarEmpleado('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                    Editar 
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="centrar">
                                VPER 
                            </td>
                            <td class="centrar">
                                VEPERJCMMDVFVF 
                            </td>
                            <td class="centrar">
                                vper@gmail.com
                            </td>
                            <td class="centrar">
                                victor patiño mejia
                            </td>
                            <td class="centrar">
                                Calle 23 de marzo 
                            </td>
                            <td class="centrar">
                                20 personas 
                            </td>
                            <td class="centrar">
                                Activa 
                            </td>
                            <td class="centrar">
                                <a href="#" class="btn btn-primary  mt-2" onclick="editarEmpleado('{{ empleado.fkUsuario.idUsuario }}', '{{ empleado.nombre }}', '{{ empleado.apellidoPaterno }}', '{{ empleado.apellidoMaterno }}', '{{ empleado.numeroPersonal }}', '{{ empleado.numeroContacto }}', '{{ empleado.correo }}', '{{ empleado.fechaNacimiento }}', '{{ empleado.curp }}', '{{ empleado.codigoPostal }}', '{{ empleado.rfc }}', '{{ empleado.cuenta }}', '{{ empleado.clave }}', '{{ empleado.status }}', '{{ empleado.cargo }}')">
                                    Editar 
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- end container -->
    </section>
    <!-- END -->

    <!-- Footer End -->
    {% include  'includeFooter.html' %}
    <!-- Footer End -->

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    
    <!-- DataTables JS -->
    {% comment %} <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script> {% endcomment %}


    <script>
        $(document).ready(function () {
        $('#TablaCheck').DataTable({
            //lengthMenu: [5, 10, 15, 20, 50, 100],
            pageLength: 5,
            lengthChange: false, // Oculta el menú de selección de cantidad de registros
            destroy:true,
            "language": {
                //lengthMenu: "Mostrar _MENU_ registros por página",
                zeroRecords: "Ningún vacante encontrado",
                info: "Mostrando _END_ de _MAX_ vacantes",
                infoEmpty: "Ningún vacante encontrado",
                infoFiltered: "",
                search: "Buscar:",
                loadingRecords: "Cargando... ",
                paginate: {
                    first: "Primero",
                    last: "Último",
                    next: "Siguiente",
                    previous: "Anterior"
                }
            }
            // Otras opciones y configuraciones de DataTables que puedas tener...
        });
        });

    </script>

    <script>
        $(document).ready(function () {
        $('#TablaCursos').DataTable({
            lengthMenu: [5, 10, 15],
            pageLength: 5,
            destroy:true,
            "language": {
                lengthMenu: "Mostrar _MENU_ registros por página",
                zeroRecords: "Ningúna postulación encontrada",
                info: "Mostrando _END_ de _MAX_ postulaciones",
                infoEmpty: "Ningúna postulación encontrada",
                infoFiltered: "",
                search: "Buscar:",
                loadingRecords: "Cargando... ",
                paginate: {
                    first: "Primero",
                    last: "Último",
                    next: "Siguiente",
                    previous: "Anterior"
                }
            }
            // Otras opciones y configuraciones de DataTables que puedas tener...
        });
        });
    </script>

    <!-- Script de editar datos-->
    <script>
        function editarEmpleado(claveEmpleado, nuevoNombre, nuevoApellidoPaterno, nuevoApellidoMaterno, nuevoIdNumeroPersonal, nuevoIdNumeroContacto, nuevoNumeroPersonal, nuevoNumeroContacto, nuevoGmail, nuevaFechaNacimiento, nuevoCurp, nuevoCodigoPostal, nuevoRfc, nuevaCuenta, nuevaClave , nuevoCargo, nuevoStatus) {
            Swal.fire({
                title: 'Información Empresa',
                html:
                `<div class="my-swal-label-container">` +
                    '<div class="row">' +
                        '<div class="col-6 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Empresa</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="Centro Universitario de Especialidades" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' +
                        '<div class="col-3 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">RFC</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="COCNJCNJCJNV" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                        '<div class="col-3 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Num Personal</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="54 personas" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                    '</div>' +
                    '<p></p>' +
                    '<div class="row">' +
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Director</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="juan de cedva de carrera" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' +
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Direccion</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="21 de marzo del 23" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Correo</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<input id="clave" name="clave" class="swal2-input my-swal-input" maxlength="10" value="cedva@gmail.com" >` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                    '</div>' +   
                    '<div class="row">' +
                        '<div class="col-4">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label">Estado </span>` +
                                `<div class="my-swal-text" style="font-size: 12px;" disabled>Activa</div></li >` +
                                    `<div class="my-swal-input-container">` +
                                        '<select class="form-select" id="nuevoCargo" name="nuevoCargo" required>' +
                                            '<option value="" disabled selected>Selecciona un estado</option>' +
                                            '<option value="Activa">Activa</option>' +
                                        '</select>' +
                                    `</div>` +
                            `</li>` +        
                        '</div>' +  
                    '</div>' +
                '</div>',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Aceptar',
                cancelButtonText: 'Cerrar',
                allowOutsideClick: false,
                customClass: {
                    container: 'my-swal-container2',
                    popup: 'my-swal-popup2',
                    title: 'my-swal-title2',
                    input: 'my-swal-input2',
                    cancelButton: 'my-swal-cancel-button2',
                    confirmButton: 'my-swal-confirm-button2',
                }, 
                preConfirm: () => {
                    const claveEmpleado = Swal.getPopup().querySelector('#claveEmpleado').value;
                    const nuevoNombre = Swal.getPopup().querySelector('#nuevoNombre').value;
                    const nuevoApellidoPaterno = Swal.getPopup().querySelector('#nuevoApellidoPaterno').value;
                    const nuevoApellidoMaterno = Swal.getPopup().querySelector('#nuevoApellidoMaterno').value;
                    const nuevoNumeroPersonal = Swal.getPopup().querySelector('#nuevoNumeroPersonal').value;
                    const nuevoNumeroContacto = Swal.getPopup().querySelector('#nuevoNumeroContacto').value;
                    const nuevoIdNumeroPersonal = Swal.getPopup().querySelector('#nuevoIdNumeroPersonal').value;
                    const nuevoIdNumeroContacto = Swal.getPopup().querySelector('#nuevoIdNumeroContacto').value;
                    const nuevoGmail = Swal.getPopup().querySelector('#nuevoGmail').value;
                    const nuevaFechaNacimiento = Swal.getPopup().querySelector('#nuevaFechaNacimiento').value;
                    const nuevoCurp = Swal.getPopup().querySelector('#nuevoCurp').value;
                    const nuevoCodigoPostal = Swal.getPopup().querySelector('#nuevoCodigoPostal').value;
                    const nuevoRfc = Swal.getPopup().querySelector('#nuevoRfc').value;
                    const nuevoStatus = Swal.getPopup().querySelector('#nuevoStatus').value;
                    const nuevaCuenta = Swal.getPopup().querySelector('#nuevaCuenta').value;
                    const nuevaClave = Swal.getPopup().querySelector('#nuevaClave').value;
                    const nuevoCargo = Swal.getPopup().querySelector('#nuevoCargo').value;

                    return fetch('{% url 'postulaciones' %}', {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRFToken': getCookie('csrftoken')
                            },
                            body: JSON.stringify({
                                claveEmpleado: claveEmpleado,
                                nuevoNombre: nuevoNombre,
                                nuevoApellidoPaterno: nuevoApellidoPaterno,
                                nuevoApellidoMaterno: nuevoApellidoMaterno,
                                nuevoNumeroPersonal: nuevoNumeroPersonal,
                                nuevoNumeroContacto: nuevoNumeroContacto,
                                nuevoIdNumeroPersonal: nuevoIdNumeroPersonal,
                                nuevoIdNumeroContacto: nuevoIdNumeroContacto,
                                nuevoGmail: nuevoGmail,
                                nuevaFechaNacimiento: nuevaFechaNacimiento,
                                nuevoCurp: nuevoCurp,
                                nuevoCodigoPostal: nuevoCodigoPostal,
                                nuevoRfc: nuevoRfc,
                                nuevoStatus: nuevoStatus,
                                nuevaCuenta: nuevaCuenta,
                                nuevaClave: nuevaClave,
                                nuevoCargo: nuevoCargo,
                        }),
                    })
                    .then(response => response.json())
                    .then(data => {
                            if (data.error) {
                                Swal.showValidationMessage(`Error: ${data.error}`);
                            } else {
                                Swal.fire({
                                    icon: 'success',
                                    title: data.message,
                                }).then(() => {
                                        location.reload();
                                });
                            }
                        });
                }
            });
        }

        function getCookie(name) {
            const cookieValue = document.cookie
                .split('; ')
                .find(row => row.startsWith(name + '='))
                ?.split('=')[1];
            return cookieValue ? decodeURIComponent(cookieValue) : null;
        }
    </script>
    <!-- Script de editar datos-->

    <!-- Script de editar datos-->
    <script>
        function verSolicitud(claveEmpleado, nuevoNombre, nuevoApellidoPaterno, nuevoApellidoMaterno, nuevoIdNumeroPersonal, nuevoIdNumeroContacto, nuevoNumeroPersonal, nuevoNumeroContacto, nuevoGmail, nuevaFechaNacimiento, nuevoCurp, nuevoCodigoPostal, nuevoRfc, nuevaCuenta, nuevaClave , nuevoCargo, nuevoStatus) {
            Swal.fire({
                title: 'Información solicitud',
                html:
                `<div class="my-swal-label-container">` +
                    '<div class="row">' +
                        '<div class="col-6 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Empresa</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato ">Centro Universitario de Especialidades</span>` +
                                `</div>` +  
                            `</li>` +
                        '</div>' +
                        '<div class="col-3 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">RFC</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato ">HSJ2F1V5FFVR215</span>` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                        '<div class="col-3 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Num Personal</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato "> 20 personas</span>` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                    '</div>' +
                    '<p></p>' +
                    '<div class="row">' +
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Correo</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato "> cude@gmail.com</span>` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Telefono</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato "> +52 5511224455</span>` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                        '<div class="col-4 ">' +
                            `<li class="my-swal-list-item"><span class="my-swal-label ">Rol</span>` +
                                `<div class="my-swal-input-container">` +
                                    `<span class=etiquetaDato "> Capacitador</span>` +
                                `</div>` + 
                            `</li>` +
                        '</div>' + 
                    '</div>' +   
                '</div>',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Aceptar',
                cancelButtonText: 'Cerrar',
                allowOutsideClick: false,
                customClass: {
                    container: 'my-swal-container2',
                    popup: 'my-swal-popup2',
                    title: 'my-swal-title2',
                    input: 'my-swal-input2',
                    cancelButton: 'my-swal-cancel-button2',
                    confirmButton: 'my-swal-confirm-button2',
                }, 
                preConfirm: () => {
                    const claveEmpleado = Swal.getPopup().querySelector('#claveEmpleado').value;
                    const nuevoNombre = Swal.getPopup().querySelector('#nuevoNombre').value;
                    const nuevoApellidoPaterno = Swal.getPopup().querySelector('#nuevoApellidoPaterno').value;
                    const nuevoApellidoMaterno = Swal.getPopup().querySelector('#nuevoApellidoMaterno').value;
                    const nuevoNumeroPersonal = Swal.getPopup().querySelector('#nuevoNumeroPersonal').value;
                    const nuevoNumeroContacto = Swal.getPopup().querySelector('#nuevoNumeroContacto').value;
                    const nuevoIdNumeroPersonal = Swal.getPopup().querySelector('#nuevoIdNumeroPersonal').value;
                    const nuevoIdNumeroContacto = Swal.getPopup().querySelector('#nuevoIdNumeroContacto').value;
                    const nuevoGmail = Swal.getPopup().querySelector('#nuevoGmail').value;
                    const nuevaFechaNacimiento = Swal.getPopup().querySelector('#nuevaFechaNacimiento').value;
                    const nuevoCurp = Swal.getPopup().querySelector('#nuevoCurp').value;
                    const nuevoCodigoPostal = Swal.getPopup().querySelector('#nuevoCodigoPostal').value;
                    const nuevoRfc = Swal.getPopup().querySelector('#nuevoRfc').value;
                    const nuevoStatus = Swal.getPopup().querySelector('#nuevoStatus').value;
                    const nuevaCuenta = Swal.getPopup().querySelector('#nuevaCuenta').value;
                    const nuevaClave = Swal.getPopup().querySelector('#nuevaClave').value;
                    const nuevoCargo = Swal.getPopup().querySelector('#nuevoCargo').value;

                    return fetch('{% url 'postulaciones' %}', {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRFToken': getCookie('csrftoken')
                            },
                            body: JSON.stringify({
                                claveEmpleado: claveEmpleado,
                                nuevoNombre: nuevoNombre,
                                nuevoApellidoPaterno: nuevoApellidoPaterno,
                                nuevoApellidoMaterno: nuevoApellidoMaterno,
                                nuevoNumeroPersonal: nuevoNumeroPersonal,
                                nuevoNumeroContacto: nuevoNumeroContacto,
                                nuevoIdNumeroPersonal: nuevoIdNumeroPersonal,
                                nuevoIdNumeroContacto: nuevoIdNumeroContacto,
                                nuevoGmail: nuevoGmail,
                                nuevaFechaNacimiento: nuevaFechaNacimiento,
                                nuevoCurp: nuevoCurp,
                                nuevoCodigoPostal: nuevoCodigoPostal,
                                nuevoRfc: nuevoRfc,
                                nuevoStatus: nuevoStatus,
                                nuevaCuenta: nuevaCuenta,
                                nuevaClave: nuevaClave,
                                nuevoCargo: nuevoCargo,
                        }),
                    })
                    .then(response => response.json())
                    .then(data => {
                            if (data.error) {
                                Swal.showValidationMessage(`Error: ${data.error}`);
                            } else {
                                Swal.fire({
                                    icon: 'success',
                                    title: data.message,
                                }).then(() => {
                                        location.reload();
                                });
                            }
                        });
                }
            });
        }

        function getCookie(name) {
            const cookieValue = document.cookie
                .split('; ')
                .find(row => row.startsWith(name + '='))
                ?.split('=')[1];
            return cookieValue ? decodeURIComponent(cookieValue) : null;
        }
    </script>
    <!-- Script de editar datos-->
    


</body>


</html>